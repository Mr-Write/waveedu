<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhulang.waveedu.edu.dao.LessonClassAttendMapper">

    <select id="selectLessonClassIdById" resultType="java.lang.Long">
        SELECT `lesson_class_id`
        FROM `edu_lesson_class_attend`
        WHERE `id` = #{id}
    </select>

    <resultMap id="classPlanResultMap" type="com.zhulang.waveedu.edu.query.ClassWeekPlanQuery">
        <id column="week" property="week"/>
        <collection property="times" ofType="com.zhulang.waveedu.edu.query.ClassAttendDayTimeQuery">
            <id column="id" property="id"/>
            <result column="lesson_name" property="lessonName"/>
            <result column="time" property="time"/>
        </collection>
    </resultMap>
    <select id="selectClassPlan" resultMap="classPlanResultMap">
        SELECT `week`, `id`, `time`, `lesson_name`
        FROM `edu_lesson_class_attend`
        WHERE `lesson_class_id` = #{classId}
        ORDER BY `week`, `time`
    </select>
</mapper>
